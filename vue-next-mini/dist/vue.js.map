{
  "version": 3,
  "sources": ["../packages/shared/src/utils/is.ts", "../packages/reactivity/src/effect.ts", "../packages/reactivity/src/reactiveEffect.ts", "../packages/reactivity/src/baseHandler.ts", "../packages/reactivity/src/reactive.ts", "../packages/reactivity/src/ref.ts", "../packages/reactivity/src/computed.ts", "../packages/runtime-dom/src/nodeOps.ts", "../packages/runtime-dom/src/modules/class.ts", "../packages/runtime-dom/src/modules/style.ts", "../packages/runtime-dom/src/modules/events.ts", "../packages/runtime-dom/src/modules/props.ts", "../packages/runtime-dom/src/modules/attrs.ts", "../packages/runtime-dom/src/patchProp.ts", "../packages/runtime-core/src/vnode.ts", "../packages/runtime-core/src/renderer.ts", "../packages/runtime-core/src/createVNode.ts", "../packages/runtime-core/src/h.ts", "../packages/runtime-dom/src/index.ts"],
  "sourcesContent": ["import { ReactiveFlags } from \"../constants\";\n\n/**\n * \u68C0\u67E5\u4E00\u4E2A\u503C\u662F\u5426\u4E3A\u5BF9\u8C61\u7C7B\u578B\n * \n * \u5728JavaScript\u4E2D\uFF0Ctypeof null === 'object' \u662F\u4E00\u4E2A\u5386\u53F2\u9057\u7559\u95EE\u9898\uFF0C\n * \u56E0\u6B64\u9700\u8981\u989D\u5916\u68C0\u67E5\u503C\u4E0D\u7B49\u4E8Enull\u6765\u786E\u4FDD\u6B63\u786E\u8BC6\u522B\u5BF9\u8C61\n * \n * @param value - \u9700\u8981\u68C0\u67E5\u7684\u4EFB\u610F\u503C\n * @returns \u5982\u679C\u503C\u662F\u5BF9\u8C61\u4E14\u4E0D\u4E3Anull\uFF0C\u5219\u8FD4\u56DEtrue\uFF0C\u5426\u5219\u8FD4\u56DEfalse\n * \n * @example\n * ```typescript\n * isObject({}) // true\n * isObject([]) // true (\u6570\u7EC4\u4E5F\u662F\u5BF9\u8C61)\n * isObject(null) // false\n * isObject(42) // false\n * isObject('string') // false\n * ```\n */\nexport function isObject(value: unknown): value is Record<any, any> {\n    return typeof value === 'object' && value !== null;\n}\n\n\nexport function isFunction(value: unknown): value is Function {\n    return typeof value === 'function';\n}\n\n\n\n\n\n// 2. \u5224\u65AD\u6570\u7EC4\nexport const isArray = Array.isArray\n\n\n\n// 4. \u5224\u65AD\u5B57\u7B26\u4E32\nexport const isString = (val: unknown): val is string => \n  typeof val === 'string'\n\n// 5. \u5224\u65AD Symbol\nexport const isSymbol = (val: unknown): val is symbol => \n  typeof val === 'symbol'\n\n// 6. \u5224\u65AD\u662F\u5426\u4E3A Promise (duck typing: \u6709 .then \u548C .catch \u65B9\u6CD5)\nexport const isPromise = <T = any>(val: unknown): val is Promise<T> => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\n}\n\n// \u96C6\u5408\u7C7B\u578B\u5224\u65AD \nexport const isMap = (val: unknown): val is Map<any, any> =>\n  toTypeString(val) === '[object Map]'\nexport const isSet = (val: unknown): val is Set<any> =>\n  toTypeString(val) === '[object Set]'\nexport const isDate = (val: unknown): val is Date => \n  toTypeString(val) === '[object Date]'\n\n// \u5224\u65AD\u7EAF\u5BF9\u8C61 \nexport const isPlainObject = (val: unknown): val is object => \n  toTypeString(val) === '[object Object]'\n\n\n\nexport const objectToString = Object.prototype.toString;\n\n\nexport const toTypeString = (value: unknown): string =>\n  objectToString.call(value);\n\n\n\nexport interface Ref<T = any> {\n    value: T;\n    [ReactiveFlags.IS_REF]: boolean; \n}\n\nexport function isRef(r: any): r is Ref {\n    // !! \u662F\u4E3A\u4E86\u8F6C\u6210\u5E03\u5C14\u503C\n    // r && ... \u662F\u4E3A\u4E86\u9632\u6B62 r \u662F null \u62A5\u9519\n    return !!(r && r[ReactiveFlags.IS_REF] === true);\n}\n\nexport function isReactive(value: unknown): boolean {\n    // \u5C1D\u8BD5\u53BB\"\u8BFB\u53D6\"\u8FD9\u4E2A\u7279\u6B8A\u7684\u5C5E\u6027\n    // \u5982\u679C value \u662F\u4E2A\u666E\u901A\u5BF9\u8C61\uFF0C\u8BFB\u53D6\u7ED3\u679C\u662F undefined -> \u8F6C\u6210 false\n    // \u5982\u679C value \u662F\u4E2A Proxy\uFF0C\u8BFB\u53D6\u4F1A\u88AB get \u62E6\u622A -> \u8FD4\u56DE true\n    return !!(value && (value as any)[ReactiveFlags.IS_REACTIVE]);\n}\n\n\nconst onRE = /^on[^a-z]/\n\n// 2. \u5BFC\u51FA\u51FD\u6570\nexport const isOn = (key: string) => onRE.test(key)", "import { DirtyLevel } from \"@vue-mini/shared\";\n\n//  \u4F9D\u8D56\u96C6\u5408\u7C7B\u578B\uFF0C \u7EE7\u627F\u81EA Map<ReactiveEffect, ReactiveEffect> \uFF0C \u5E76\u6DFB\u52A0\u4E86 cleanup \u65B9\u6CD5\nexport type Dep = Map<ReactiveEffect, number> & {\n    cleanup?: (dep: Dep) => void;\n    key?: string | symbol;\n    depsMap?: Map<any, any>;\n};\n\n\n/**\n * activeEffect \u662F\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u7684 effect \u5B9E\u4F8B\n * \u5F53 effect \u8FD0\u884C\u65F6\uFF0C\u4F1A\u5C06\u5F53\u524D effect \u5B9E\u4F8B\u8D4B\u503C\u7ED9 activeEffect\n * \u5F53 effect \u8FD0\u884C\u5B8C\u6210\u540E\uFF0C\u4F1A\u5C06 activeEffect \u6062\u590D\u4E3A null\n */\nexport let activeEffect: ReactiveEffect | undefined = undefined;\n/**\n * \u662F\u5426\u9700\u8981\u6536\u96C6\u4F9D\u8D56\n * \u5F53 shouldTrack \u4E3A true \u65F6\uFF0C\u624D\u4F1A\u6536\u96C6\u4F9D\u8D56\n * \u5F53 shouldTrack \u4E3A false \u65F6\uFF0C\u4E0D\u4F1A\u6536\u96C6\u4F9D\u8D56\n */\nexport let shouldTrack = true;\n\n\n\n// \u5B9A\u4E49 Options \u7684\u63A5\u53E3\nexport interface ReactiveEffectOptions {\n    scheduler?: () => void;\n    onStop?: () => void;\n    // \u5982\u679C\u4F60\u8981\u652F\u6301 lazy\uFF0C\u4E5F\u53EF\u4EE5\u52A0\u5728\u8FD9\u91CC\n    lazy?: boolean;\n}\n\nexport interface ReactiveEffectRunner<T = any> {\n    (): T; // \u8C03\u7528\u7B7E\u540D\u4E3A T (\u5373 fn \u7684\u8FD4\u56DE\u503C)\n    effect: ReactiveEffect; // \u6302\u8F7D\u7684 effect \u5B9E\u4F8B\n}\n\n/**\n * \u54CD\u5E94\u5F0Feffect \u51FD\u6570\n * \u7528\u4E8E\u521B\u5EFA\u54CD\u5E94\u5F0Feffect \u5B9E\u4F8B\n * 1. \u6536\u96C6\u4F9D\u8D56\n * 2. \u89E6\u53D1\u66F4\u65B0\n * 3. \u505C\u6B62\u4F9D\u8D56\u6536\u96C6\n */\nexport function effect<T = any>(\n    fn: () => T,\n    options?: ReactiveEffectOptions\n): ReactiveEffectRunner<T> {\n\n    // \u6216\u8005\u6309\u4F60\u7684\u4EE3\u7801\u903B\u8F91\uFF08\u6CE8\u610F\uFF1A\u901A\u5E38 scheduler \u662F\u901A\u8FC7 options \u4F20\u8FDB\u53BB\u7684\uFF0C\u800C\u4E0D\u662F\u5199\u6B7B\u5728\u6784\u9020\u51FD\u6570\u91CC\uFF09\n    const _effect = new ReactiveEffect(fn, () => {\n        _effect.run();\n    });\n\n    // \u5408\u5E76\u9009\u9879\n    if (options) {\n        Object.assign(_effect, options);\n    }\n\n    // \u9ED8\u8BA4\u6267\u884C\u4E00\u6B21 (\u9664\u975E options.lazy \u4E3A true\uFF0C\u8FD9\u91CC\u6309\u4F60\u7684\u903B\u8F91\u5148\u76F4\u63A5\u6267\u884C)\n    _effect.run();\n\n    // bind \u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u666E\u901A\u51FD\u6570\uFF0C\u6211\u4EEC\u9700\u8981\u65AD\u8A00\u5B83\u662F ReactiveEffectRunner\n    const runner = _effect.run.bind(_effect) as ReactiveEffectRunner<T>;\n\n    // \u6302\u8F7D effect \u5B9E\u4F8B\n    runner.effect = _effect;\n\n    return runner;\n}\n\n\n/**\n * \u54CD\u5E94\u5F0Feffect \u7C7B\n * \u7528\u4E8E\u54CD\u5E94\u5F0F\u6570\u636E\u7684\u4F9D\u8D56\u6536\u96C6\u548C\u89E6\u53D1\u66F4\u65B0\n * 1. \u6536\u96C6\u4F9D\u8D56\n * 2. \u89E6\u53D1\u66F4\u65B0\n * 3. \u505C\u6B62\u4F9D\u8D56\u6536\u96C6\n * 4. \u624B\u52A8\u89E6\u53D1\u66F4\u65B0\n */\n\nexport class ReactiveEffect {\n    // \u5F53\u4F5C\u6307\u9488\u6765\u7528\uFF0C\u65B9\u4FBF\u66FF\u6362\u65B0\u589E\u6216\u8005\u5220\u9664\u540E\u7EED\u591A\u4F59\u4F9D\u8D56\u7684\u5220\u9664\n    public _depsLength: number = 0;\n    /**\n     * \u4F9D\u8D56\u6536\u96C6\u7684id\uFF0C\u4F5C\u4E3A\u5224\u65AD\u5F53\u6B21run\u8FD8\u662F\u76D1\u542C\u5230set\u540E\u540E\u7684\u91CD\u65B0run\u6536\u96C6\n     * \u521D\u59CB\u503C\u4E3A 0\uFF0C \u6BCF\u6B21run\u6267\u884C\u5C06effect._trackId \u52A0 1\uFF0C \u7528\u4E8E\u89E6\u53D1\u66F4\u65B0\u65F6\uFF0C\u5224\u65AD\u662F\u5426\u9700\u8981\u89E6\u53D1\u66F4\u65B0\n     * \u4E3B\u8981\u662F\u6765\u5224\u65AD\u4E00\u4E2Aeffect\u91CC\u7684\u591A\u4E2A\u91CD\u590D\u4F9D\u8D56\uFF0C\u907F\u514D\u91CD\u590D\u6536\u96C6\n     */\n    public _trackId: number = 0;\n    /**\n     * \u4F9D\u8D56\u6536\u96C6\u7684 dirtyLevel \uFF0C \u7528\u4E8E\u5224\u65AD\u662F\u5426\u9700\u8981\u89E6\u53D1\u66F4\u65B0\n     * \u521D\u59CB\u503C\u4E3A 0\uFF0C \u6BCF\u6B21run\u6267\u884C\u5C06effect._dir \u52A0 4\uFF0C \u7528\u4E8E\u89E6\u53D1\u66F4\u65B0\u65F6\uFF0C\u5224\u65AD\u662F\u5426\u9700\u8981\u89E6\u53D1\u66F4\u65B0\n     * \u4E3B\u8981\u662F\u6765\u5224\u65AD\u4E00\u4E2Aeffect\u91CC\u7684\u591A\u4E2A\u91CD\u590D\u4F9D\u8D56\uFF0C\u907F\u514D\u91CD\u590D\u6536\u96C6\n     */\n    public _dirtyLevel: number = DirtyLevel.DIRTY;\n    // \u4F9D\u8D56\u96C6\u5408\uFF0C \u7528\u4E8E\u5B58\u50A8\u6240\u6709\u4F9D\u8D56\u8BE5\u5C5E\u6027\u7684effect\n    public deps: Dep[] = [];\n    public active: boolean = true;\n    public onStop?: () => void;\n    constructor(public fn: () => void, public scheduler?: () => void) {\n        this.fn = fn;\n        this.scheduler = scheduler;\n    }\n\n    public get dirty() {\n        return this._dirtyLevel === DirtyLevel.DIRTY;\n    }\n\n    public set dirty(value: boolean) {\n        this._dirtyLevel = value ? DirtyLevel.DIRTY : DirtyLevel.NO_DIRTY;\n    }\n    \n    run() {\n        // \u6BCF\u6B21run\u6267\u884C\u5C06effect._dirtyLevel \u52A0 4\uFF0C \u7528\u4E8E\u89E6\u53D1\u66F4\u65B0\u65F6\uFF0C\u5224\u65AD\u662F\u5426\u9700\u8981\u89E6\u53D1\u66F4\u65B0\n        // this._dirtyLevel += DirtyLevel.DIRTY;\n        this._dirtyLevel = DirtyLevel.NO_DIRTY;\n        if (!this.active) {\n            return this.fn();\n        }\n        // \u7F13\u5B58\u5F53\u524D\u7684activeEffect \uFF0C\u6700\u540E\u6062\u590D, \u9632\u6B62\u5D4C\u5957effect \u65F6\uFF0C\u5185\u5C42effect \u8986\u76D6\u5916\u5C42effect\n        let lastActiveEffect = activeEffect;\n        try {\n            activeEffect = this;\n            preClearnEffect(this);\n            return this.fn();\n        } finally {\n            postCleanEffect(this);\n            activeEffect = lastActiveEffect;\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            this.active = false;\n            // this.depsMap.forEach(dep => {\n            //     dep.delete(this);\n            // });\n        }\n    }\n}\n\n\n// \u8F85\u52A9\u51FD\u6570\uFF1A\u5224\u65AD\u662F\u5426\u9700\u8981\u6536\u96C6\nexport function isTracking() {\n    return shouldTrack && activeEffect !== undefined;\n}\n\n\n// \u6536\u96C6\u4F9D\u8D56\nexport function trackEffects(dep: Dep) {\n    // \u5F53 activeEffect \u4E3A undefined \u65F6\uFF0C\u8BF4\u660E\u5F53\u524D\u6CA1\u6709\u8FD0\u884C\u4E2D\u7684 effect\uFF0C\u65E0\u9700\u6536\u96C6\u4F9D\u8D56\n    if (activeEffect === undefined) {\n        return;\n    }\n    // \u6839\u636E\u5F53\u524Deffect\u7684_trackId \u5224\u65AD\u662F\u5426\u9700\u8981\u662F\u5426\u4E3A\u540C\u4E00\u6B21key\u7684\u4F9D\u8D56\u6536\u96C6\uFF0C\u76F8\u540C\u7684\u8BDD\u8868\u793A\u91CD\u590D\u6536\u96C6\uFF0C\u65E0\u9700\u5904\u7406\n    if (dep.get(activeEffect) !== activeEffect._trackId) {\n        // \u4E0D\u540C\u7684\u8BDD\u8868\u793A\u4E3A\u65B0\u7684\u4F9D\u8D56\u6536\u96C6\uFF0C\u9700\u8981\u6DFB\u52A0\u5230\u4F9D\u8D56\u96C6\u5408\u4E2D\u6216\u8005\u66FF\u6362\u65E7\u7684\u4F9D\u8D56\u7684_trackId\u66F4\u65B0\n        dep.set(activeEffect, activeEffect._trackId);\n        // \u4ECEdeps\u53D6\u5230\u5F53\u524Ddeps _depsLength\u4F4D\u7F6E\u7684\u4F9D\u8D56\uFF0C\u4E0E\u65B0\u7684\u4F9D\u8D56\u8FDB\u884C\u6BD4\u8F83\n        let oldDep = activeEffect.deps[activeEffect._depsLength];\n\n        if (oldDep !== dep) {\n            cleanDepEffect(activeEffect, oldDep);\n\n            activeEffect.deps[activeEffect._depsLength++] = dep;\n        } else {\n            activeEffect._depsLength++;\n        }\n    }\n}\n\n\n/**\n * \n * @param effect \n * \u6BCF\u6B21run\u6267\u884C\u5C06effect._depsLength \u91CD\u7F6E\u4E3A 0\uFF0C \u5E76\u5C06effect._trackId \u52A0 1\n * \u7528\u4E8E\u89E6\u53D1\u66F4\u65B0\u65F6\uFF0C\u5224\u65AD\u662F\u5426\u9700\u8981\u89E6\u53D1\u66F4\u65B0 \n */\nfunction preClearnEffect(effect: ReactiveEffect) {\n    effect._depsLength = 0;\n    effect._trackId++;\n}\n\n\nfunction cleanDepEffect(effect: ReactiveEffect, dep: Dep) {\n    if (dep) {\n        dep.delete(effect);\n        if (dep.size === 0) {\n            dep.cleanup?.(dep);\n        }\n    }\n}\n\nfunction postCleanEffect(effect: ReactiveEffect) {\n    if (effect.deps.length > effect._depsLength) {\n        for (let i = effect._depsLength; i < effect.deps.length; i++) {\n            cleanDepEffect(effect, effect.deps[i]);\n        }\n        effect.deps.length = effect._depsLength;\n    }\n}\n\n// \u89E6\u53D1\u4F9D\u8D56\u66F4\u65B0\nexport function triggerEffects(dep: Dep) {\n    for (const effect of dep.keys()) {\n\n        if (effect._dirtyLevel < DirtyLevel.DIRTY) {\n            effect._dirtyLevel = DirtyLevel.DIRTY;\n        }\n\n        if (effect !== activeEffect) {\n            if (effect.scheduler) {\n                effect.scheduler();\n            } else {\n                effect.run();\n            }\n        } else {\n            console.warn('vue3-mini  \u5FAA\u73AF\u4F9D\u8D56');\n        }\n    }\n}", "import { activeEffect, ReactiveEffect, trackEffects, triggerEffects } from \"./effect\";\nimport type { Dep } from \"./effect\";\n/**\n * \u76EE\u6807\u5BF9\u8C61 -> \u952E -> \u4F9D\u8D56\u96C6\u5408\n * \u6BCF\u4E2A\u5C5E\u6027\u5BF9\u5E94\u4E00\u4E2A\u4F9D\u8D56\u96C6\u5408\uFF0C\u96C6\u5408\u4E2D\u5B58\u653E\u6240\u6709\u4F9D\u8D56\u8BE5\u5C5E\u6027\u7684effect\n * \u53CC\u6620\u5C04\uFF0C\u5B9E\u73B0\u76EE\u6807\u5BF9\u8C61 -> \u952E -> \u4F9D\u8D56\u96C6\u5408\u7684\u6620\u5C04\uFF0C\u5747\u4E3AMap\n */\nconst targetMap = new Map();\n\nexport function track(target: object, key: string | symbol) {\n    if (activeEffect) {\n        let depsMap = targetMap.get(target)\n        if (!depsMap) {\n            depsMap = new Map();\n            targetMap.set(target, depsMap);\n        }\n        let dep: Dep = depsMap.get(key);\n        if (!dep) {\n            // \u521B\u5EFA dep\n            // dep = createDep(() => {\n            //     depsMap.delete(key);\n            // }) as Dep;\n            dep = createDep() as Dep;\n            // // === \u6838\u5FC3\u4F18\u5316 === \n            // \u4E0D\u4F20\u95ED\u5305\uFF0C\u800C\u662F\u628A\u5FC5\u8981\u7684\u4E0A\u4E0B\u6587\u6302\u8F7D\u5230 dep \u5BF9\u8C61\u4E0A\n            dep.depsMap = depsMap;\n            dep.key = key;\n            dep.cleanup = finalizeDepCleanup; // \u6240\u6709 dep \u5171\u7528\u540C\u4E00\u4E2A\u51FD\u6570\u5F15\u7528\uFF01\n            depsMap.set(key, dep);\n        }\n        trackEffects(dep);\n\n        console.log('targetMap', targetMap);\n\n    }\n}\n\n\n// \u5B9A\u4E49\u4E00\u4E2A\u901A\u7528\u7684\u6E05\u7406\u51FD\u6570 (\u53EA\u521B\u5EFA\u4E00\u6B21\uFF0C\u5168\u5C40\u590D\u7528)\n// \u8FD9\u662F\u4E00\u4E2A\u6CA1\u6709\u95ED\u5305\u7684\u7EAF\u51FD\u6570\uFF0C\u5B83\u53EA\u64CD\u4F5C\u4F20\u5165\u53C2\u6570\nfunction finalizeDepCleanup(dep: Dep) {\n    const { depsMap, key } = dep; // \u4ECE dep \u8EAB\u4E0A\u53D6\u6570\u636E\n    if (depsMap) {\n        depsMap.delete(key);\n    }\n    dep.depsMap = undefined; // \u89E3\u9664\u5F15\u7528\n}\n\nexport function createDep(fn?: () => void) {\n    let dep = new Map<ReactiveEffect, number>() as Dep;\n    dep.cleanup = fn;\n    return dep;\n}\n\n\nexport function trigger(target: object, key: string | symbol, newValue?: any, oldValue?: any) {\n\n    // console.log('trigger=====>', target, key, newValue, oldValue);\n    const depsMap = targetMap.get(target);\n    if (!depsMap) {\n        return;\n    }\n    const dep:Dep = depsMap.get(key);\n    if (!dep) {\n        return;\n    }\n    triggerEffects(dep);\n    \n\n\n\n\n}", "import { reactive } from './reactive';\nimport { track, trigger } from './reactiveEffect';\nimport { isObject,ReactiveFlags } from \"@vue-mini/shared\";\n\nexport const baseHandler: ProxyHandler<object> = {\n        get(target, key, receiver) {\n            // console.log('proxy data get=====>',key, ':', value);\n            if (key === ReactiveFlags.IS_REACTIVE) {\n                return true;\n            }\n            track(target, key);\n            const res = Reflect.get(target, key, receiver);\n            if (isObject(res)) {\n                return reactive(res);\n            }\n            \n            return res;\n        },\n        set(target, key, value, receiver) {\n            // console.log('proxy data set=====>',key, ':', value);\n            const oldValue = Reflect.get(target, key, receiver);\n            const res = Reflect.set(target, key, value, receiver);\n            if (oldValue !== value) {\n                trigger(target, key,value,oldValue);\n            }\n            return res;\n        }\n    }", "import { isObject } from \"@vue-mini/shared\";\nimport { baseHandler } from \"./baseHandler\";\nimport { ReactiveFlags } from \"@vue-mini/shared\";\nconst reactiveMap = new WeakMap<object, object>();\n\nexport function reactive<T extends object>(target: T): T {\n    const proxy = createReactiveObject(target);\n    return proxy as T;\n}\n\nexport function toReactive<T>(target: T): T {\n    return target ? reactive(target as any) as any : target;\n}\n\n\nfunction createReactiveObject(target: object) {\n    if (!isObject(target)) {\n        return target;\n    }\n    if (reactiveMap.has(target)) {\n        return reactiveMap.get(target)!;\n    }\n    if ((target as any)[ReactiveFlags.IS_REACTIVE]) {\n        return target;\n    }\n    const proxy = new Proxy(target, baseHandler);\n    reactiveMap.set(target, proxy);\n    return proxy;\n}", "import { ReactiveFlags } from \"@vue-mini/shared\";\nimport { trackEffects, isTracking, triggerEffects } from \"./effect\";\nimport type { Dep } from \"./effect\";\nimport { toReactive } from \"./reactive\";\nimport { createDep } from \"./reactiveEffect\";\n\n\n\nexport function ref<T>(value: T): RefImpl<T> {\n    return createRef(value);\n}\n\n\nfunction createRef<T>(value: T): RefImpl<T> {\n    return new RefImpl(value);\n}\n\n\n\nclass RefImpl<T> {\n    public _value: T;\n    public dep?: Dep = undefined;\n    public readonly [ReactiveFlags.IS_REF] = true;\n    constructor(public rawValue: T) {\n        this._value = toReactive(rawValue);\n\n    }\n\n    get value() {\n        trackRefValue(this);\n        return this._value;\n    }\n\n    set value(newValue: T) {\n        if (this.rawValue !== newValue) {\n            this.rawValue = newValue;\n            this._value = toReactive(newValue);\n            triggerRefValue(this);\n        }\n    }\n}\n\n\n\ninterface RefBase {\n    dep?: Dep;\n}\nexport function trackRefValue(ref: RefBase) {\n    if (isTracking()) {\n        if (!ref.dep) {\n            ref.dep = createDep();\n        }\n        trackEffects(ref.dep!);\n    }\n}\n\n\nexport function triggerRefValue(ref: RefBase) {\n    if (ref.dep) {\n        triggerEffects(ref.dep);\n    }\n}\n\n\n\n", "// import { isFunction } from \"@vue-mini/shared\";\nimport { Dep, ReactiveEffect } from \"./effect\";\nimport { trackRefValue, triggerRefValue } from \"./ref\";\n\nexport function computed<T>(getter: () => T): ComputedRefImpl<T> {\n    return new ComputedRefImpl(getter);\n}\n\n\n\nclass ComputedRefImpl<T> {\n\n    public _value!: T;\n    public effect: ReactiveEffect;\n\n    public dep?: Dep;\n    constructor(getter: () => T) {\n        this.effect = new ReactiveEffect(getter, () => {\n            triggerRefValue(this);\n        });\n    }\n\n    get value() {\n        if(this.effect.dirty) {\n            this._value = this.effect.run()!;\n            trackRefValue(this);\n        }\n        return this._value;\n    }\n}", "import type { NodeOps } from \"@vue-mini/runtime-core\";\n\nexport const svgNS = 'http://www.w3.org/2000/svg'\n\nconst doc = (typeof document !== 'undefined' ? document : null) as Document\n\n\n\n\n\nexport const nodeOps: NodeOps = {\n  // 1. \u63D2\u5165\u8282\u70B9\n  // anchor \u662F\u951A\u70B9\uFF0C\u5982\u679C\u4E3A null\uFF0CinsertBefore \u7B49\u540C\u4E8E appendChild\n  insert: (child: Node, parent: Node, anchor: Node | null) => {\n    parent.insertBefore(child, anchor || null)\n  },\n\n  // 2. \u79FB\u9664\u8282\u70B9\n  remove: (child: Node) => {\n    const parent = child.parentNode\n    if (parent) {\n      parent.removeChild(child)\n    }\n  },\n\n  // 3. \u521B\u5EFA\u5143\u7D20\u8282\u70B9\n  // isSVG: \u662F\u5426\u662F SVG \u6807\u7B7E\n  // is: \u7528\u4E8E Web Components \u7684 is \u5C5E\u6027\n  createElement: (\n    tag: string,\n    isSVG?: boolean,\n    is?: string,\n    props?: Record<string, any>\n  ): Element => {\n    const el = isSVG\n      ? doc.createElementNS(svgNS, tag)\n      : doc.createElement(tag, is ? { is } : undefined)\n\n    // \u7279\u6B8A\u5904\u7406 select \u6807\u7B7E\u7684\u591A\u9009\u5C5E\u6027\uFF0C\u907F\u514D\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u95EE\u9898\n    if (tag === 'select' && props && props.multiple != null) {\n      ;(el as HTMLSelectElement).setAttribute('multiple', 'multiple')\n    }\n\n    return el\n  },\n\n  // 4. \u521B\u5EFA\u6587\u672C\u8282\u70B9\n  createText: (text: string): Text => doc.createTextNode(text),\n\n  // 5. \u521B\u5EFA\u6CE8\u91CA\u8282\u70B9\n  createComment: (text: string): Comment => doc.createComment(text),\n\n  // 6. \u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u7684\u5185\u5BB9 (\u7528\u4E8E\u66F4\u65B0 Text \u7C7B\u578B\u8282\u70B9)\n  setText: (node: Text, text: string) => {\n    node.nodeValue = text\n  },\n\n  // 7. \u8BBE\u7F6E\u5143\u7D20\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9 (\u7528\u4E8E element.textContent)\n  // \u8FD9\u662F\u4E2A\u4F18\u5316\u64CD\u4F5C\uFF0C\u6BD4\u5148\u6E05\u7A7A\u518D\u63D2\u5165 textNode \u5FEB\n  setElementText: (el: Element, text: string) => {\n    el.textContent = text\n  },\n\n  // 8. \u83B7\u53D6\u7236\u8282\u70B9\n  parentNode: (node: Node): Node | null => node.parentNode,\n\n  // 9. \u83B7\u53D6\u4E0B\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9 (\u7528\u4E8E\u904D\u5386)\n  nextSibling: (node: Node): Node | null => node.nextSibling,\n\n  // 10. \u67E5\u8BE2\u5143\u7D20 (\u7528\u4E8E Teleport \u6216\u6302\u8F7D\u6839\u8282\u70B9)\n  querySelector: (selector: string): Element | null => doc.querySelector(selector),\n\n  // 11. \u8BBE\u7F6E Scope ID (\u7528\u4E8E scoped css)\n  setScopeId(el: Element, id: string) {\n    el.setAttribute(id, '')\n  },\n\n  // \u514B\u9686\u8282\u70B9 (\u7528\u4E8E\u9759\u6001\u63D0\u5347 Static Hoisting \u7684\u4F18\u5316)\n  cloneNode(el: Node): Node {\n    return el.cloneNode(true)\n  }\n}", "export function patchClass(el: Element, value: string | null, isSVG: boolean) {\n  // \u5982\u679C value \u4E3A null/undefined\uFF0C\u8F6C\u4E3A\u7A7A\u5B57\u7B26\u4E32\n  const transitionClasses = (el as any)._vtc\n  if (transitionClasses) {\n      value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(' ')\n  }\n\n  if (value == null) {\n    el.removeAttribute('class')\n  } else if (isSVG) {\n    // SVG \u7684 class \u662F\u4E2A\u5BF9\u8C61\uFF0C\u4E0D\u80FD\u76F4\u63A5 .className\n    el.setAttribute('class', value)\n  } else {\n    // \u26A1\uFE0F \u6027\u80FD\u4F18\u5316\u70B9\uFF1A\u76F4\u63A5\u8D4B\u503C className\n    el.className = value\n  }\n}", "import { isString } from \"@vue-mini/shared\"\n\nexport function patchStyle(el: Element, prev: any, next: any) {\n    const style = (el as HTMLElement).style\n    const isCssString = isString(next) // \u652F\u6301 :style=\"'color: red'\"\n\n    if (next && !isCssString) {\n        // 1. \u8BBE\u7F6E\u65B0\u7684\u6837\u5F0F\n        for (const key in next) {\n            setStyle(style, key, next[key])\n        }\n\n        // 2. \u6E05\u7406\u65E7\u7684\u6837\u5F0F\n        // \u5982\u679C\u65E7\u7684\u6709\uFF0C\u65B0\u7684\u6CA1\u6709\uFF0C\u7531\u4E8E Vue \u7684\u54CD\u5E94\u5F0F\u673A\u5236\uFF0C\u9700\u8981\u624B\u52A8\u79FB\u9664\n        if (prev && !isString(prev)) {\n            for (const key in prev) {\n                if (next[key] == null) {\n                    setStyle(style, key, '')\n                }\n            }\n        }\n    } else {\n        // \u5982\u679C next \u662F\u5B57\u7B26\u4E32\uFF0C\u6216\u8005 next \u4E3A\u7A7A\uFF0C\u76F4\u63A5\u8986\u76D6\u6574\u4E2A cssText\n        // const currentDisplay = style.display;\n        // if (currentDisplay) {\n        //     style.display = currentDisplay // 3. \u5982\u679C\u4E4B\u524D\u6709 display\uFF0C\u5FC5\u987B\u7ED9\u5B83\u8FD8\u539F\u56DE\u53BB\n        // }\n        if (isCssString) {\n            if (prev !== next) {\n                style.cssText = next as string\n            }\n        } else if (prev) {\n            // next \u4E3A\u7A7A\uFF0C\u79FB\u9664 style \u5C5E\u6027\n            el.removeAttribute('style')\n        }\n    }\n}\n\nfunction setStyle(style: CSSStyleDeclaration, name: string, val: string | string[]) {\n    // \u8FD9\u91CC\u4F1A\u6709\u81EA\u52A8\u52A0 px \u540E\u7F00\u3001\u5904\u7406 !important \u7B49\u903B\u8F91\uFF0C\u7B80\u5316\u5C55\u793A\uFF1A\n    if (val == null) val = '';\n    (style as any)[name] = val\n}", "export type EventValue = Function | Function[]\n\ninterface Invoker extends EventListener {\n  value: EventValue\n}\n\nexport function patchEvent(\n  el: Element & { _vei?: Record<string, Invoker | undefined> },\n  rawName: string, // \u4F8B\u5982 \"onClick\"\n  prevValue: EventValue | null,\n  nextValue: EventValue | null\n) {\n  // 1. \u83B7\u53D6\u7F13\u5B58 (vei = vue event invokers)\n  const invokers = el._vei || (el._vei = {})\n  const existingInvoker = invokers[rawName]\n\n  if (nextValue && existingInvoker) {\n    // A. \u66F4\u65B0\u903B\u8F91\uFF1A\u6700\u725B\u7684\u5730\u65B9\uFF01\n    // \u53EA\u8981\u628A invoker.value \u6362\u6210\u65B0\u7684\u51FD\u6570\u5373\u53EF\n    // \u4E0D\u9700\u8981 removeEventListener \u518D addEventListener\n    existingInvoker.value = nextValue\n  } else {\n    const name = parseName(rawName) // onClick -> click\n    \n    if (nextValue) {\n      // B. \u65B0\u589E\u903B\u8F91\n      // \u521B\u5EFA\u4E00\u4E2A invoker\uFF0C\u5B83\u662F\u4E00\u4E2A\u5305\u88C5\u51FD\u6570\n      const invoker = (invokers[rawName] = createInvoker(nextValue))\n      el.addEventListener(name, invoker)\n    } else if (existingInvoker) {\n      // C. \u5220\u9664\u903B\u8F91\n      el.removeEventListener(name, existingInvoker)\n      invokers[rawName] = undefined\n    }\n  }\n}\n\nfunction createInvoker(initialValue: EventValue) {\n  const invoker: Invoker = (e: Event) => {\n    const value = invoker.value\n    \n    // 1. \u5148\u5224\u65AD\u662F\u4E0D\u662F\u6570\u7EC4\n    if (Array.isArray(value)) {\n      // \u5982\u679C\u662F\u6570\u7EC4\uFF0C\u904D\u5386\u6267\u884C\u6BCF\u4E00\u4E2A\u51FD\u6570\n      value.forEach(fn => fn(e))\n    } else {\n      // 2. \u5982\u679C\u4E0D\u662F\u6570\u7EC4\uFF0C\u90A3\u5B83\u4E00\u5B9A\u662F\u51FD\u6570\n      // \u6CE8\u610F\uFF1A\u8FD9\u91CC\u53EF\u80FD\u8FD8\u9700\u8981\u52A0 as Function\uFF0C\u56E0\u4E3A TS \u7684 Function \u7C7B\u578B\u9ED8\u8BA4\u4E0D\u5E26\u53C2\u6570\u7B7E\u540D\n      (value as Function)(e)\n    }\n  }\n  \n  invoker.value = initialValue\n  return invoker\n}\n\n\n// \u89E3\u6790\u4E8B\u4EF6\u540D\uFF0C\u4F8B\u5982 onClick -> click\nfunction parseName(rawName: string) {\n  return rawName.slice(2).toLowerCase()\n}\n", "export function patchDOMProp(el: any, key: string, value: any) {\n  // \u7279\u6B8A\u5904\u7406 input \u7684 value\n  if (key === 'value' && el.tagName === 'INPUT') {\n      el.value = value == null ? '' : value\n      return\n  }\n  \n  // \u7B80\u5355\u7C97\u66B4\uFF0C\u76F4\u63A5\u70B9\u64CD\u4F5C\u7B26\u8D4B\u503C\n  // \u6BD4\u5982 el.checked = true\n  // \u5982\u679C\u7528 setAttribute('checked', true) \u662F\u4E0D\u8D77\u4F5C\u7528\u7684\n  if (value === '' || value == null) {\n      const type = typeof el[key]\n       if (type === 'boolean') {\n           el[key] = false\n           return\n       }\n  }\n  el[key] = value\n}", "export function patchAttr(el: Element, key: string, value: any) {\n  if (value == null) {\n    el.removeAttribute(key)\n  } else {\n    el.setAttribute(key, value)\n  }\n}", "\nimport { patchClass } from './modules/class'\nimport { patchStyle } from './modules/style'\nimport { patchEvent } from './modules/events'\nimport { patchDOMProp } from './modules/props'\nimport { patchAttr } from './modules/attrs'\nimport { isOn } from '@vue-mini/shared'\n\nexport const patchProp = (\n    el: Element,\n    key: string,\n    prevValue: any,\n    nextValue: any,\n    isSVG: boolean = false\n) => {\n    if (key === 'class') {\n        // 1. \u5904\u7406 Class (\u6700\u5FEB\u8DEF\u5F84)\n        patchClass(el, nextValue, isSVG)\n    } else if (key === 'style') {\n        // 2. \u5904\u7406 Style\n        patchStyle(el, prevValue, nextValue)\n    } else if (isOn(key)) {\n        // 3. \u5904\u7406\u4E8B\u4EF6 (\u4EE5 on \u5F00\u5934\uFF0C\u5982 onClick)\n        // isOn \u7684\u5B9E\u73B0\u5C31\u662F /^on[^a-z]/.test(key)\n        patchEvent(el, key, prevValue, nextValue)\n    }   else if (shouldSetAsProp(el, key, nextValue, isSVG)) {\n        // 4. \u5904\u7406 DOM Property (\u5982 input.value, video.muted)\n        patchDOMProp(el, key, nextValue)\n      } else {\n        // 5. \u5904\u7406\u666E\u901A HTML Attribute (\u5982 id, aria-*, custom-attr)\n        patchAttr(el, key, nextValue)\n      }\n\n\n    \n}\n\n\nexport function shouldSetAsProp(\n  el: Element,\n  key: string,\n  value: unknown,\n  isSVG: boolean\n) {\n  // 1. \u7279\u6B8A\u60C5\u51B5\uFF1ASVG \u6807\u7B7E\u57FA\u672C\u4E0A\u90FD\u662F Attribute\n  // (\u9664\u4E86 innerHTML \u548C textContent \u8FD9\u79CD\u901A\u7528\u5C5E\u6027)\n  if (isSVG) {\n    return key === 'innerHTML' || key === 'textContent'\n  }\n\n  // 2. \u7279\u6B8A\u60C5\u51B5\uFF1A'spellcheck', 'draggable' \u7B49\n  // \u8FD9\u4E9B\u867D\u7136\u5728 DOM \u5BF9\u8C61\u4E0A\u6709\u5BF9\u5E94\u5C5E\u6027\uFF0C\u4F46\u884C\u4E3A\u8BE1\u5F02\uFF0CsetAttribute \u66F4\u7A33\n  if (key === 'spellcheck' || key === 'draggable' || key === 'translate') {\n    return false\n  }\n\n  // 3. \u7279\u6B8A\u60C5\u51B5\uFF1AForm \u8868\u5355\u5C5E\u6027\n  // input.form \u662F\u53EA\u8BFB\u7684\uFF01\u4E0D\u80FD\u901A\u8FC7 el.form = xxx \u4FEE\u6539\uFF0C\u53EA\u80FD el.setAttribute('form', id)\n  if (key === 'form') {\n    return false\n  }\n\n  // 4. \u7279\u6B8A\u60C5\u51B5\uFF1AInput \u7684 list \u5C5E\u6027\n  // \u4E5F\u662F\u53EA\u8BFB\u7684\uFF0C\u5FC5\u987B\u7528 setAttribute\n  if (key === 'list' && el.tagName === 'INPUT') {\n    return false\n  }\n\n  // 5. type \u5C5E\u6027\n  // \u5728 textarea \u4E0A\u8BBE\u7F6E type \u662F\u975E\u6CD5\u7684\uFF0C\u5FC5\u987B\u8D70 attribute\n  if (key === 'type' && el.tagName === 'TEXTAREA') {\n    return false\n  }\n\n  // 6. === \u6838\u5FC3\u5224\u65AD ===\n  // \u53EA\u8981 DOM \u5BF9\u8C61\u91CC\u6709\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u539F\u5219\u4E0A\u5C31\u4F18\u5148\u4F5C\u4E3A Property \u8BBE\u7F6E\n  // (\u56E0\u4E3A el.xxx = val \u6BD4 setAttribute('xxx', val) \u6027\u80FD\u597D\u4E14\u66F4\u7B26\u5408 JS \u903B\u8F91)\n  if (key in el) {\n    return true\n  }\n\n  return false\n}", "// import { ShapeFlags } from \"@vue-mini/shared\";\n\n// VNode \u4E5F\u5C31\u662F\u865A\u62DF\u8282\u70B9\uFF0C\u5B83\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u666E\u901A\u7684 JS \u5BF9\u8C61\nexport interface VNode {\n  __v_isVNode: true;\n  // === \u6838\u5FC3\u5C5E\u6027 ===\n  \n  // 1. \u8282\u70B9\u7C7B\u578B\n  // \u5982\u679C\u662F html \u6807\u7B7E\uFF0C\u5B83\u662F string ('div')\n  // \u5982\u679C\u662F\u7EC4\u4EF6\uFF0C\u5B83\u662F\u7EC4\u4EF6\u5BF9\u8C61 ({ setup: ... })\n  // \u5982\u679C\u662F\u6587\u672C\uFF0C\u5B83\u662F Symbol\n  type: any;\n\n  // 2. \u5C5E\u6027 (props, attrs, events, class, style)\n  props: any;\n\n  // 3. \u5B50\u8282\u70B9 (\u5B57\u7B26\u4E32\u3001\u6570\u7EC4\u3001\u6216\u63D2\u69FD\u5BF9\u8C61)\n  // children: string | VNode[] | null ;\n  children: any;\n\n  // 4. \u771F\u5B9E DOM \u5F15\u7528 (\u7528\u4E8E Diff \u8FC7\u7A0B\u4E2D\u7684\u76F4\u63A5\u64CD\u4F5C)\n  // \u5728 mount \u9636\u6BB5\u4F1A\u88AB\u8D4B\u503C\n  el: any | null; \n\n  // 5. \u552F\u4E00\u6807\u8BC6 (\u7528\u4E8E List Diff \u4F18\u5316)\n  key: string | number | null;\n\n  // === \u6807\u8BB0\u5C5E\u6027 ===\n\n  // 6. \u5F62\u72B6\u6807\u8BB0 (\u4F4D\u8FD0\u7B97\u6838\u5FC3\uFF0C\u6807\u8BC6\u5B83\u662F\u5143\u7D20\u8FD8\u662F\u7EC4\u4EF6\uFF0C\u5B50\u8282\u70B9\u662F\u6587\u672C\u8FD8\u662F\u6570\u7EC4)\n  shapeFlag: number;\n\n  // 7. \u7EC4\u4EF6\u5B9E\u4F8B\u5F15\u7528 (\u53EA\u6709\u5F53 type \u662F\u7EC4\u4EF6\u65F6\u624D\u6709\u503C)\n  // \u7528\u4E8E\u5728\u66F4\u65B0\u7EC4\u4EF6\u65F6\u627E\u5230\u5BF9\u5E94\u7684 instance\n  component?: any | null; \n}\n\n\nexport function isVNode(value: any): value is VNode {\n  return value ? value.__v_isVNode === true : false;\n}", "\nimport { ShapeFlags } from \"@vue-mini/shared\";\nimport { isVNode, type VNode } from \"./vnode\";\nexport type RenderElement = Element & {_vnode:VNode}\n\nexport function createRenderer(rendererOptions: RendererOptions) {\n    const {\n        insert:hostInsert,\n        remove:hostRemove,\n        createElement:hostCreateElement,\n        createText:hostCreateText,\n        setText:hostSetText,\n        setElementText:hostSetElementText,\n        parentNode:hostParentNode,\n        nextSibling:hostNextSibling,\n        patchProp:hostPatchProp,\n    } = rendererOptions;\n\n\n    const mountchildren = (children:any,container:any)=>{\n        for(let item of children){\n          if(!isVNode(item)){\n            hostInsert(hostCreateText(String(item)), container,null);\n          }else{\n          patch(container._vnode || null,item as VNode,container)\n          }\n        }\n    }\n\n    const mountElement = (vnode:VNode,container:RenderElement)=>{\n      let {type,props,children,shapeFlag} = vnode;\n      console.log( {type,props,children,shapeFlag} )\n      const el = hostCreateElement(type);\n      if(props){\n        for(let key in props){\n          hostPatchProp(el,key,null,props[key])\n        }\n      }\n      if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\n        hostSetElementText(el,children)\n      }else{\n        console.log('mountchildren',{children,el})\n        mountchildren(children,el)\n      }\n      hostInsert(el,container,null)\n    }\n    const patch = (n1:VNode|null,n2:VNode,container:RenderElement)=>{\n      if(n1  === n2) return;\n      mountElement(n2,container)\n      \n    }\n\n    const render = (vnode:VNode, container:RenderElement)=>{\n        patch(container._vnode||null,vnode,container)\n        container._vnode = vnode;\n    }\n\n    return {\n       render,\n       patch\n    }\n\n}\n\n\n\nexport interface NodeOps {\n  insert: (child: Node, parent: Node, anchor: Node | null) => void\n  remove: (child: Node) => void\n  createElement: (\n    tag: string,\n    isSVG?: boolean,\n    is?: string,\n    props?: Record<string, any>\n  ) => Element\n  createText: (text: string) => Text\n  createComment: (text: string) => Comment\n  setText: (node: Text, text: string) => void\n  setElementText: (el: Element, text: string) => void\n  parentNode: (node: Node) => Node | null\n  nextSibling: (node: Node) => Node | null\n  querySelector: (selector: string) => Element | null\n  setScopeId: (el: Element, id: string) => void,\n  cloneNode: (node: Node) => Node,\n}\n\n\n\nexport interface RendererOptions extends NodeOps {\n    patchProp: (el: Element, key: string, prevValue: any, nextValue: any) => void\n}\n", "import { ShapeFlags, isString, isObject } from \"@vue-mini/shared\";\nimport type { VNode } from \"./vnode\";\nexport const createVNode = (\n  type: any,\n  props: any = null,\n  children: any = null\n): VNode => {\n  // 1. \u6838\u5FC3\u903B\u8F91\uFF1A\u901A\u8FC7 type \u63A8\u65AD ShapeFlag (\u662F\u666E\u901A\u5143\u7D20\u8FD8\u662F\u7EC4\u4EF6\uFF1F)\n  const shapeFlag = isString(type)\n    ? ShapeFlags.ELEMENT\n    : isObject(type)\n    ? ShapeFlags.STATEFUL_COMPONENT\n    : 0;\n\n  // 2. \u521B\u5EFA VNode \u5BF9\u8C61\n  const vnode: VNode = {\n    __v_isVNode: true, // \u5185\u90E8\u5C5E\u6027\uFF0C\u6807\u8BC6\u8FD9\u662F\u4E00\u4E2A VNode\n    type,\n    props,\n    children,\n    shapeFlag,\n    el: null, // \u771F\u5B9E DOM\uFF0C\u6302\u8F7D\u540E\u624D\u6709\u503C\n    key: props && props.key, // \u63D0\u53D6 key \u7528\u4E8E Diff\n    component: null, // \u7EC4\u4EF6\u5B9E\u4F8B\n  };\n\n  // 3. \u6838\u5FC3\u903B\u8F91\uFF1A\u89C4\u8303\u5316 children \u5E76\u66F4\u65B0 ShapeFlag\n  normalizeChildren(vnode, children);\n\n  return vnode;\n};\n\n// \u8F85\u52A9\u51FD\u6570\uFF1A\u6839\u636E children \u7684\u7C7B\u578B\uFF0C\u6253\u4E0A TEXT_CHILDREN \u6216 ARRAY_CHILDREN \u6807\u8BB0\nfunction normalizeChildren(vnode: VNode, children: unknown) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n\n  if (children == null) {\n    children = null;\n  } else if (Array.isArray(children)) {\n    // \u60C5\u51B5 A: children \u662F\u6570\u7EC4 -> \u6807\u8BB0\u4E3A ARRAY_CHILDREN\n    type = ShapeFlags.ARRAY_CHILDREN;\n  } else if (typeof children === \"object\") {\n    // \u60C5\u51B5 B: children \u662F\u5BF9\u8C61 (\u901A\u5E38\u662F Slot \u6216\u5355\u4E2A VNode)\n    // Mini-vue \u6682\u65F6\u7B80\u5316\uFF0C\u5982\u679C\u662F\u7EC4\u4EF6\u4E14 children \u662F\u5BF9\u8C61\uFF0C\u8FD9\u91CC\u53EF\u4EE5\u5904\u7406 Slot\n    // \u5982\u679C children \u662F VNode\uFF0C\u901A\u5E38\u5728 h \u51FD\u6570\u91CC\u5DF2\u7ECF\u88AB\u5305\u88F9\u6210\u6570\u7EC4\u4E86\n    // \u8FD9\u91CC\u6682\u65F6\u4E0D\u505A\u590D\u6742\u5904\u7406\n  } else {\n    // \u60C5\u51B5 C: children \u662F\u5B57\u7B26\u4E32/\u6570\u5B57 -> \u6807\u8BB0\u4E3A TEXT_CHILDREN\n    children = String(children);\n    type = ShapeFlags.TEXT_CHILDREN;\n  }\n\n  // \u66F4\u65B0 children \u7684\u503C (\u4F8B\u5982\u628A\u6570\u5B57\u8F6C\u6210\u4E86\u5B57\u7B26\u4E32)\n  vnode.children = children;\n  \n  // \u4F7F\u7528\u4F4D\u8FD0\u7B97 (\u6309\u4F4D\u6216 |) \u8FFD\u52A0\u6807\u8BB0\n  // \u6B64\u65F6 shapeFlag \u53EF\u80FD\u53D8\u6210\u4E86: ELEMENT | TEXT_CHILDREN (\u5373 1 | 8 = 9)\n  vnode.shapeFlag |= type;\n}", "import type { VNode,  } from \"./vnode\";\nimport { isVNode } from \"./vnode\";\nimport { isArray, isObject } from \"@vue-mini/shared\";\nimport { createVNode } from \"./createVNode\";\n\nexport function h(type: any, propsOrChildren?: any, children?: any): VNode {\n  const l = arguments.length;\n\n  // === \u60C5\u51B5\u4E00\uFF1A\u53EA\u6709\u4E24\u4E2A\u53C2\u6570 ===\n  // \u53EF\u80FD\u5199\u6CD5 1: h('div', { id: 'foo' })       -> \u7B2C\u4E8C\u4E2A\u662F Props\n  // \u53EF\u80FD\u5199\u6CD5 2: h('div', [ h('span') ])       -> \u7B2C\u4E8C\u4E2A\u662F Children (\u6570\u7EC4)\n  // \u53EF\u80FD\u5199\u6CD5 3: h('div', 'hello world')       -> \u7B2C\u4E8C\u4E2A\u662F Children (\u6587\u672C)\n  // \u53EF\u80FD\u5199\u6CD5 4: h('div', h('span'))           -> \u7B2C\u4E8C\u4E2A\u662F Children (VNode)\n  if (l === 2) {\n    // \u5173\u952E\u5224\u65AD\uFF1A\u5982\u679C\u5B83\u662F\u5BF9\u8C61\uFF0C\u4E14\u4E0D\u662F\u6570\u7EC4\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      // \u26A0\uFE0F \u6781\u5176\u91CD\u8981\u7684\u8FB9\u7F18\u60C5\u51B5\uFF1AVNode \u672C\u8D28\u4E5F\u662F\u5BF9\u8C61\uFF01\n      // \u5982\u679C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F VNode\uFF0C\u8BF4\u660E\u5B83\u662F\u5B50\u8282\u70B9\uFF0C\u800C\u4E0D\u662F\u5C5E\u6027\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      // \u5426\u5219\uFF0C\u5B83\u662F\u5C5E\u6027 (props)\n      return createVNode(type, propsOrChildren);\n    } else {\n      // \u5982\u679C\u662F\u6570\u7EC4 \u6216 \u5B57\u7B26\u4E32/\u6570\u5B57\uFF0C\u90A3\u80AF\u5B9A\u662F\u5B50\u8282\u70B9\n      return createVNode(type, null, propsOrChildren);\n    }\n  } \n  \n  // === \u60C5\u51B5\u4E8C\uFF1A\u4E09\u4E2A\u53CA\u4EE5\u4E0A\u53C2\u6570 ===\n  else {\n    // \u5982\u679C\u53C2\u6570\u591A\u4E8E 3 \u4E2A\uFF0C\u6BD4\u5982 h('div', {}, 'a', 'b', 'c')\n    if (l > 3) {\n      // \u628A\u4ECE\u7B2C 3 \u4E2A\u53C2\u6570\u5F00\u59CB\u7684\u6240\u6709\u53C2\u6570\uFF0C\u6536\u96C6\u6210\u4E00\u4E2A\u6570\u7EC4\n      children = Array.prototype.slice.call(arguments, 2);\n    } \n    // \u5982\u679C\u6B63\u597D 3 \u4E2A\uFF0C\u4E14\u7B2C\u4E09\u4E2A\u53C2\u6570\u662F VNode\uFF0C\u4E3A\u4E86\u65B9\u4FBF\u5904\u7406\uFF0C\u5305\u88F9\u6210\u6570\u7EC4\n    else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n\n    // \u6B64\u65F6 propsOrChildren \u80AF\u5B9A\u662F props\uFF0Cchildren \u80AF\u5B9A\u662F children\n    return createVNode(type, propsOrChildren, children);\n  }\n}", "\n\nimport {nodeOps} from './nodeOps'\nimport {patchProp} from './patchProp'\nimport {createRenderer} from '@vue-mini/runtime-core'\nimport type { VNode,RendererOptions,RenderElement } from \"@vue-mini/runtime-core\";\n\n\nconst rendererOptions: RendererOptions = Object.assign({}, nodeOps, {\n    patchProp\n})\n\n\n\nexport function render(vnode:VNode, container:RenderElement) {\n    createRenderer(rendererOptions).render(vnode, container)\n}\n\n\nexport * from '@vue-mini/runtime-core'"],
  "mappings": "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",
  "names": ["effect", "ref", "rendererOptions", "render"]
}
