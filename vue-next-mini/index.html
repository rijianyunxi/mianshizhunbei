<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Vue Mini Debug</title>
</head>

<body>
    <div id="app"></div>
    <script type="module">
        import { effect, reactive, ref, computed, render,h} from './dist/vue.js';
        // const obj = reactive({ flag: true, a: 'sjt', b: 'jz', c: { d: 1 } });
        /**
         * 分支测试
         * 当 flag 为 true 时，显示 a，为 false 时，显示 b
         * 1秒后，将 flag 设为 false，显示 b
         * 
        */
        // effect(() => {
        //     document.getElementById('app').innerText = obj.flag ? obj.a : obj.b;
        // });
        // setTimeout(() => {
        //     obj.flag = false;
        // }, 1000);


        // 深度proxy测试
        // effect(() => {
        //     document.getElementById('app').innerText = obj.c.d;
        // });
        // setTimeout(() => {
        //      obj.c.d = '222223';
        // }, 1000);

        // ref测试
        // const a = ref(true);
        // const b = ref('sjt');

        // effect(() => {
        //     document.getElementById('app').innerText = a.value ? b.value : '-';
        // });

        // setTimeout(() => {
        //     a.value = false;
        //     console.log(
        //         'setTimeout=====>',a,b
        //     );
        // }, 1000);

        // computed测试
        // const myComputed = computed(() => {
        //     return obj.a + obj.b;
        // });
        // effect(() => {
        //     document.getElementById('app').innerText = myComputed.value;
        // });
        // setTimeout(() => {
        //     obj.a = '88888';
        // }, 1000);


        // 渲染测试

        let vnode1 = h('div',{class:'ss',style:{ color:'red' }},[
            '这是h1',
            h('p',{style:{color:'orange'},id:'span','data-item':{index:1}},'测试p'),
            h('span',{style:{color:'blue'},id:'span',onClick:handleClick},'测试span')
        ]);
        render(vnode1,document.querySelector("#app"));
        

        function handleClick(e){
            console.log(e,22222);
        }

    </script>
</body>

</html>